{"results": [{"node": {"raw_sql": "{{\n    config(\n        materialized='incremental',\n        unique_key=['id'],\n        tag = ['daily']\n    )\n}}\n\nselect\n  users_extract.id as user_id,\n  users_extract.postcode,\n  current_date() as postcode_updated_date\nfrom\n  users_extract\n{% if is_incremental() %}\n    -- this filter will only be applied on an incremental run\n    where\n      NOT EXISTS (\n          SELECT * FROM {{ this }} this WHERE this.id = users_extract.id AND this.postcode = users_extract.postcode\n        )\n\n{% endif %}", "compiled": true, "database": "dbt-test-290911", "schema": "dbt_francisco", "fqn": ["checkout_test_franciscocasanueva", "current_postcode"], "unique_id": "model.checkout_test_franciscocasanueva.current_postcode", "package_name": "checkout_test_franciscocasanueva", "root_path": "/home/francis/Documents/Repos/checkout_test_franciscocasanueva", "path": "current_postcode.sql", "original_file_path": "models/current_postcode.sql", "name": "current_postcode", "resource_type": "model", "alias": "current_postcode", "checksum": {"name": "sha256", "checksum": "8117fb99eed53228ab65c8df01c419fb6e3e1fa294f9b87cd060c923f8bd4afd"}, "config": {"enabled": true, "materialized": "incremental", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "alias": null, "schema": null, "database": null, "tags": [], "full_refresh": null, "unique_key": ["id"], "tag": ["daily"]}, "tags": [], "refs": [], "sources": [], "depends_on": {"macros": ["macro.dbt.is_incremental"], "nodes": []}, "description": "Current postcode of all the users", "columns": {"user_id": {"name": "user_id", "description": "Primary key of users", "meta": {}, "data_type": null, "tags": []}, "postcode": {"name": "postcode", "description": "postcode value", "meta": {}, "data_type": null, "tags": []}, "postcode_updated_date": {"name": "postcode_updated_date", "description": "update time of the last postcode used", "meta": {}, "data_type": null, "tags": []}}, "meta": {}, "docs": {"show": true}, "patch_path": "models/schema.yml", "build_path": "target/compiled/checkout_test_franciscocasanueva/models/current_postcode.sql", "deferred": false, "compiled_sql": "\n\nselect\n  users_extract.id as user_id,\n  users_extract.postcode,\n  current_date() as postcode_updated_date\nfrom\n  users_extract\n", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "\n\nselect\n  users_extract.id as user_id,\n  users_extract.postcode,\n  current_date() as postcode_updated_date\nfrom\n  users_extract\n"}, "error": null, "status": null, "execution_time": 0.027616024017333984, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2020-10-02T10:35:32.096980Z", "completed_at": "2020-10-02T10:35:32.123023Z"}, {"name": "execute", "started_at": "2020-10-02T10:35:32.123385Z", "completed_at": "2020-10-02T10:35:32.123402Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "{{\n    config(\n        materialized='incremental',\n        unique_key=['user_id', 'pageview_datetime'],\n        tag = ['hourly']\n\n    )\n}}\n\n--Add the new entries to the table\nselect\n  pageviews.user_id,\n  pageviews.pageview_datetime,\n  USR.postcode as original_postcode,\n  USR.postcode as current_postcode,\n  USR.postcode_updated_date\n\nfrom pageviews_extract pageviews\njoin {{ref(\"current_postcode\")}} as USR on USR.user_id = pageviews.user_id\n\n{% if is_incremental() %}\n  -- this filter will only be applied on an incremental run\n  where\n    pageviews.pageview_datetime >= (select max(pageview_datetime) from {{ this }})\n\nUNION\n\n-- Update the old addresses that have changed\nselect\n  updated.user_id,\n  updated.pageview_datetime,\n  updated.original_postcode,\n  updated.current_postcode,\n  updated.postcode_updated_date\n\nfrom  {{ref(\"updated_postcode_stg\")}} as updated\n  -- this filter will only be applied on an incremental run\n  where\n    updated.postcode_updated_date >= (select max(postcode_updated_date) from {{ this }})\n\n{% endif %}", "compiled": true, "database": "dbt-test-290911", "schema": "dbt_francisco", "fqn": ["checkout_test_franciscocasanueva", "pageviews_postcode"], "unique_id": "model.checkout_test_franciscocasanueva.pageviews_postcode", "package_name": "checkout_test_franciscocasanueva", "root_path": "/home/francis/Documents/Repos/checkout_test_franciscocasanueva", "path": "pageviews_postcode.sql", "original_file_path": "models/pageviews_postcode.sql", "name": "pageviews_postcode", "resource_type": "model", "alias": "pageviews_postcode", "checksum": {"name": "sha256", "checksum": "aa05ab954460ffd40e030f5fb809f194a74e37ff9133ade285d8864e535fce3d"}, "config": {"enabled": true, "materialized": "incremental", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "alias": null, "schema": null, "database": null, "tags": [], "full_refresh": null, "unique_key": ["user_id", "pageview_datetime"], "tag": ["hourly"]}, "tags": [], "refs": [["current_postcode"]], "sources": [], "depends_on": {"macros": ["macro.dbt.is_incremental"], "nodes": ["model.checkout_test_franciscocasanueva.current_postcode"]}, "description": "", "columns": {}, "meta": {}, "docs": {"show": true}, "patch_path": null, "build_path": "target/compiled/checkout_test_franciscocasanueva/models/pageviews_postcode.sql", "deferred": false, "compiled_sql": "\n\n--Add the new entries to the table\nselect\n  pageviews.user_id,\n  pageviews.pageview_datetime,\n  USR.postcode as original_postcode,\n  USR.postcode as current_postcode,\n  USR.postcode_updated_date\n\nfrom pageviews_extract pageviews\njoin `dbt-test-290911`.`dbt_francisco`.`current_postcode` as USR on USR.user_id = pageviews.user_id\n\n", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "\n\n--Add the new entries to the table\nselect\n  pageviews.user_id,\n  pageviews.pageview_datetime,\n  USR.postcode as original_postcode,\n  USR.postcode as current_postcode,\n  USR.postcode_updated_date\n\nfrom pageviews_extract pageviews\njoin `dbt-test-290911`.`dbt_francisco`.`current_postcode` as USR on USR.user_id = pageviews.user_id\n\n"}, "error": null, "status": null, "execution_time": 0.013035297393798828, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2020-10-02T10:35:32.124845Z", "completed_at": "2020-10-02T10:35:32.136827Z"}, {"name": "execute", "started_at": "2020-10-02T10:35:32.137131Z", "completed_at": "2020-10-02T10:35:32.137140Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "{{\n    config(\n        materialized='view',\n        tag = ['daily']\n    )\n}}\n\n\n\nselect\n  current_postcode.user_id,\n  pageviews.pageview_datetime,\n  pageviews.original_postcode,\n  current_postcode.postcode as current_postcode,\n  current_postcode.postcode_updated_date\nfrom\n  {{ref ('current_postcode')}} as current_postcode\n  left join {ref('pageviews_postcode')} pageviews on pageviews.user_id = post_curr.id\nwhere\n  current_postcode.postcode_updated_date > (select max(pageviews2.postcode_updated_date) from {ref('pageviews_postcode')} pageviews2)", "compiled": true, "database": "dbt-test-290911", "schema": "dbt_francisco", "fqn": ["checkout_test_franciscocasanueva", "updated_postcode_stg"], "unique_id": "model.checkout_test_franciscocasanueva.updated_postcode_stg", "package_name": "checkout_test_franciscocasanueva", "root_path": "/home/francis/Documents/Repos/checkout_test_franciscocasanueva", "path": "updated_postcode_stg.sql", "original_file_path": "models/updated_postcode_stg.sql", "name": "updated_postcode_stg", "resource_type": "model", "alias": "updated_postcode_stg", "checksum": {"name": "sha256", "checksum": "56c9b666aea7375d6ee8d8e7b07058eb2b90f6a4a81e465b52b0ae7520ea0f20"}, "config": {"enabled": true, "materialized": "view", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "alias": null, "schema": null, "database": null, "tags": [], "full_refresh": null, "tag": ["daily"]}, "tags": [], "refs": [["current_postcode"]], "sources": [], "depends_on": {"macros": [], "nodes": ["model.checkout_test_franciscocasanueva.current_postcode"]}, "description": "view with the postcodes that have changed since last time. Used to update old postcodes on pageview_postcode", "columns": {"user_id": {"name": "user_id", "description": "Primary key of users", "meta": {}, "data_type": null, "tags": []}, "pageview_datetime": {"name": "pageview_datetime", "description": "timestamp of this pageview", "meta": {}, "data_type": null, "tags": []}, "original_postcode": {"name": "original_postcode", "description": "postcode value when this pageview was made", "meta": {}, "data_type": null, "tags": []}, "current_postcode": {"name": "current_postcode", "description": "current postcode of this user", "meta": {}, "data_type": null, "tags": []}, "postcode_updated_date": {"name": "postcode_updated_date", "description": "update time of this current postcode", "meta": {}, "data_type": null, "tags": []}}, "meta": {}, "docs": {"show": true}, "patch_path": "models/schema.yml", "build_path": "target/compiled/checkout_test_franciscocasanueva/models/updated_postcode_stg.sql", "deferred": false, "compiled_sql": "\n\n\n\nselect\n  current_postcode.user_id,\n  pageviews.pageview_datetime,\n  pageviews.original_postcode,\n  current_postcode.postcode as current_postcode,\n  current_postcode.postcode_updated_date\nfrom\n  `dbt-test-290911`.`dbt_francisco`.`current_postcode` as current_postcode\n  left join {ref('pageviews_postcode')} pageviews on pageviews.user_id = post_curr.id\nwhere\n  current_postcode.postcode_updated_date > (select max(pageviews2.postcode_updated_date) from {ref('pageviews_postcode')} pageviews2)", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "\n\n\n\nselect\n  current_postcode.user_id,\n  pageviews.pageview_datetime,\n  pageviews.original_postcode,\n  current_postcode.postcode as current_postcode,\n  current_postcode.postcode_updated_date\nfrom\n  `dbt-test-290911`.`dbt_francisco`.`current_postcode` as current_postcode\n  left join {ref('pageviews_postcode')} pageviews on pageviews.user_id = post_curr.id\nwhere\n  current_postcode.postcode_updated_date > (select max(pageviews2.postcode_updated_date) from {ref('pageviews_postcode')} pageviews2)"}, "error": null, "status": null, "execution_time": 0.01398777961730957, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2020-10-02T10:35:32.138148Z", "completed_at": "2020-10-02T10:35:32.151099Z"}, {"name": "execute", "started_at": "2020-10-02T10:35:32.151431Z", "completed_at": "2020-10-02T10:35:32.151441Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "{{ config(severity='ERROR') }}{{ test_not_null(**_dbt_schema_test_kwargs) }}", "test_metadata": {"namespace": null, "name": "not_null", "kwargs": {"column_name": "postcode", "model": "{{ ref('current_postcode') }}"}}, "compiled": true, "database": "dbt-test-290911", "schema": "dbt_francisco", "fqn": ["checkout_test_franciscocasanueva", "schema_test", "not_null_current_postcode_postcode"], "unique_id": "test.checkout_test_franciscocasanueva.not_null_current_postcode_postcode", "package_name": "checkout_test_franciscocasanueva", "root_path": "/home/francis/Documents/Repos/checkout_test_franciscocasanueva", "path": "schema_test/not_null_current_postcode_postcode.sql", "original_file_path": "models/schema.yml", "name": "not_null_current_postcode_postcode", "resource_type": "test", "alias": "not_null_current_postcode_postcode", "checksum": {"name": "none", "checksum": ""}, "config": {"enabled": true, "materialized": "view", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "alias": null, "schema": null, "database": null, "tags": [], "full_refresh": null, "severity": "ERROR"}, "tags": ["schema"], "refs": [["current_postcode"]], "sources": [], "depends_on": {"macros": ["macro.dbt.test_not_null"], "nodes": ["model.checkout_test_franciscocasanueva.current_postcode"]}, "description": "", "columns": {}, "meta": {}, "docs": {"show": true}, "patch_path": null, "build_path": "target/compiled/checkout_test_franciscocasanueva/models/schema.yml/schema_test/not_null_current_postcode_postcode.sql", "deferred": false, "compiled_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom `dbt-test-290911`.`dbt_francisco`.`current_postcode`\nwhere postcode is null\n\n\n", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom `dbt-test-290911`.`dbt_francisco`.`current_postcode`\nwhere postcode is null\n\n\n", "column_name": "postcode"}, "error": null, "status": null, "execution_time": 0.019149065017700195, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2020-10-02T10:35:32.153139Z", "completed_at": "2020-10-02T10:35:32.170774Z"}, {"name": "execute", "started_at": "2020-10-02T10:35:32.171085Z", "completed_at": "2020-10-02T10:35:32.171095Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "{{ config(severity='ERROR') }}{{ test_not_null(**_dbt_schema_test_kwargs) }}", "test_metadata": {"namespace": null, "name": "not_null", "kwargs": {"column_name": "postcode_updated_date", "model": "{{ ref('current_postcode') }}"}}, "compiled": true, "database": "dbt-test-290911", "schema": "dbt_francisco", "fqn": ["checkout_test_franciscocasanueva", "schema_test", "not_null_current_postcode_postcode_updated_date"], "unique_id": "test.checkout_test_franciscocasanueva.not_null_current_postcode_postcode_updated_date", "package_name": "checkout_test_franciscocasanueva", "root_path": "/home/francis/Documents/Repos/checkout_test_franciscocasanueva", "path": "schema_test/not_null_current_postcode_postcode_updated_date.sql", "original_file_path": "models/schema.yml", "name": "not_null_current_postcode_postcode_updated_date", "resource_type": "test", "alias": "not_null_current_postcode_postcode_updated_date", "checksum": {"name": "none", "checksum": ""}, "config": {"enabled": true, "materialized": "view", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "alias": null, "schema": null, "database": null, "tags": [], "full_refresh": null, "severity": "ERROR"}, "tags": ["schema"], "refs": [["current_postcode"]], "sources": [], "depends_on": {"macros": ["macro.dbt.test_not_null"], "nodes": ["model.checkout_test_franciscocasanueva.current_postcode"]}, "description": "", "columns": {}, "meta": {}, "docs": {"show": true}, "patch_path": null, "build_path": "target/compiled/checkout_test_franciscocasanueva/models/schema.yml/schema_test/not_null_current_postcode_postcode_updated_date.sql", "deferred": false, "compiled_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom `dbt-test-290911`.`dbt_francisco`.`current_postcode`\nwhere postcode_updated_date is null\n\n\n", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom `dbt-test-290911`.`dbt_francisco`.`current_postcode`\nwhere postcode_updated_date is null\n\n\n", "column_name": "postcode_updated_date"}, "error": null, "status": null, "execution_time": 0.012047052383422852, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2020-10-02T10:35:32.172232Z", "completed_at": "2020-10-02T10:35:32.183286Z"}, {"name": "execute", "started_at": "2020-10-02T10:35:32.183587Z", "completed_at": "2020-10-02T10:35:32.183597Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "{{ config(severity='ERROR') }}{{ test_not_null(**_dbt_schema_test_kwargs) }}", "test_metadata": {"namespace": null, "name": "not_null", "kwargs": {"column_name": "user_id", "model": "{{ ref('current_postcode') }}"}}, "compiled": true, "database": "dbt-test-290911", "schema": "dbt_francisco", "fqn": ["checkout_test_franciscocasanueva", "schema_test", "not_null_current_postcode_user_id"], "unique_id": "test.checkout_test_franciscocasanueva.not_null_current_postcode_user_id", "package_name": "checkout_test_franciscocasanueva", "root_path": "/home/francis/Documents/Repos/checkout_test_franciscocasanueva", "path": "schema_test/not_null_current_postcode_user_id.sql", "original_file_path": "models/schema.yml", "name": "not_null_current_postcode_user_id", "resource_type": "test", "alias": "not_null_current_postcode_user_id", "checksum": {"name": "none", "checksum": ""}, "config": {"enabled": true, "materialized": "view", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "alias": null, "schema": null, "database": null, "tags": [], "full_refresh": null, "severity": "ERROR"}, "tags": ["schema"], "refs": [["current_postcode"]], "sources": [], "depends_on": {"macros": ["macro.dbt.test_not_null"], "nodes": ["model.checkout_test_franciscocasanueva.current_postcode"]}, "description": "", "columns": {}, "meta": {}, "docs": {"show": true}, "patch_path": null, "build_path": "target/compiled/checkout_test_franciscocasanueva/models/schema.yml/schema_test/not_null_current_postcode_user_id.sql", "deferred": false, "compiled_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom `dbt-test-290911`.`dbt_francisco`.`current_postcode`\nwhere user_id is null\n\n\n", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom `dbt-test-290911`.`dbt_francisco`.`current_postcode`\nwhere user_id is null\n\n\n", "column_name": "user_id"}, "error": null, "status": null, "execution_time": 0.013422250747680664, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2020-10-02T10:35:32.184658Z", "completed_at": "2020-10-02T10:35:32.197104Z"}, {"name": "execute", "started_at": "2020-10-02T10:35:32.197399Z", "completed_at": "2020-10-02T10:35:32.197409Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "{{ config(severity='ERROR') }}{{ test_unique(**_dbt_schema_test_kwargs) }}", "test_metadata": {"namespace": null, "name": "unique", "kwargs": {"column_name": "user_id", "model": "{{ ref('current_postcode') }}"}}, "compiled": true, "database": "dbt-test-290911", "schema": "dbt_francisco", "fqn": ["checkout_test_franciscocasanueva", "schema_test", "unique_current_postcode_user_id"], "unique_id": "test.checkout_test_franciscocasanueva.unique_current_postcode_user_id", "package_name": "checkout_test_franciscocasanueva", "root_path": "/home/francis/Documents/Repos/checkout_test_franciscocasanueva", "path": "schema_test/unique_current_postcode_user_id.sql", "original_file_path": "models/schema.yml", "name": "unique_current_postcode_user_id", "resource_type": "test", "alias": "unique_current_postcode_user_id", "checksum": {"name": "none", "checksum": ""}, "config": {"enabled": true, "materialized": "view", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "alias": null, "schema": null, "database": null, "tags": [], "full_refresh": null, "severity": "ERROR"}, "tags": ["schema"], "refs": [["current_postcode"]], "sources": [], "depends_on": {"macros": ["macro.dbt.test_unique"], "nodes": ["model.checkout_test_franciscocasanueva.current_postcode"]}, "description": "", "columns": {}, "meta": {}, "docs": {"show": true}, "patch_path": null, "build_path": "target/compiled/checkout_test_franciscocasanueva/models/schema.yml/schema_test/unique_current_postcode_user_id.sql", "deferred": false, "compiled_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom (\n\n    select\n        user_id\n\n    from `dbt-test-290911`.`dbt_francisco`.`current_postcode`\n    where user_id is not null\n    group by user_id\n    having count(*) > 1\n\n) validation_errors\n\n\n", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom (\n\n    select\n        user_id\n\n    from `dbt-test-290911`.`dbt_francisco`.`current_postcode`\n    where user_id is not null\n    group by user_id\n    having count(*) > 1\n\n) validation_errors\n\n\n", "column_name": "user_id"}, "error": null, "status": null, "execution_time": 0.012068033218383789, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2020-10-02T10:35:32.198445Z", "completed_at": "2020-10-02T10:35:32.209554Z"}, {"name": "execute", "started_at": "2020-10-02T10:35:32.209844Z", "completed_at": "2020-10-02T10:35:32.209853Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "{{ config(severity='ERROR') }}{{ test_not_null(**_dbt_schema_test_kwargs) }}", "test_metadata": {"namespace": null, "name": "not_null", "kwargs": {"column_name": "current_postcode", "model": "{{ ref('updated_postcode_stg') }}"}}, "compiled": true, "database": "dbt-test-290911", "schema": "dbt_francisco", "fqn": ["checkout_test_franciscocasanueva", "schema_test", "not_null_updated_postcode_stg_current_postcode"], "unique_id": "test.checkout_test_franciscocasanueva.not_null_updated_postcode_stg_current_postcode", "package_name": "checkout_test_franciscocasanueva", "root_path": "/home/francis/Documents/Repos/checkout_test_franciscocasanueva", "path": "schema_test/not_null_updated_postcode_stg_current_postcode.sql", "original_file_path": "models/schema.yml", "name": "not_null_updated_postcode_stg_current_postcode", "resource_type": "test", "alias": "not_null_updated_postcode_stg_current_postcode", "checksum": {"name": "none", "checksum": ""}, "config": {"enabled": true, "materialized": "view", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "alias": null, "schema": null, "database": null, "tags": [], "full_refresh": null, "severity": "ERROR"}, "tags": ["schema"], "refs": [["updated_postcode_stg"]], "sources": [], "depends_on": {"macros": ["macro.dbt.test_not_null"], "nodes": ["model.checkout_test_franciscocasanueva.updated_postcode_stg"]}, "description": "", "columns": {}, "meta": {}, "docs": {"show": true}, "patch_path": null, "build_path": "target/compiled/checkout_test_franciscocasanueva/models/schema.yml/schema_test/not_null_updated_postcode_stg_current_postcode.sql", "deferred": false, "compiled_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom `dbt-test-290911`.`dbt_francisco`.`updated_postcode_stg`\nwhere current_postcode is null\n\n\n", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom `dbt-test-290911`.`dbt_francisco`.`updated_postcode_stg`\nwhere current_postcode is null\n\n\n", "column_name": "current_postcode"}, "error": null, "status": null, "execution_time": 0.01194000244140625, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2020-10-02T10:35:32.210883Z", "completed_at": "2020-10-02T10:35:32.221855Z"}, {"name": "execute", "started_at": "2020-10-02T10:35:32.222147Z", "completed_at": "2020-10-02T10:35:32.222157Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "{{ config(severity='ERROR') }}{{ test_not_null(**_dbt_schema_test_kwargs) }}", "test_metadata": {"namespace": null, "name": "not_null", "kwargs": {"column_name": "original_postcode", "model": "{{ ref('updated_postcode_stg') }}"}}, "compiled": true, "database": "dbt-test-290911", "schema": "dbt_francisco", "fqn": ["checkout_test_franciscocasanueva", "schema_test", "not_null_updated_postcode_stg_original_postcode"], "unique_id": "test.checkout_test_franciscocasanueva.not_null_updated_postcode_stg_original_postcode", "package_name": "checkout_test_franciscocasanueva", "root_path": "/home/francis/Documents/Repos/checkout_test_franciscocasanueva", "path": "schema_test/not_null_updated_postcode_stg_original_postcode.sql", "original_file_path": "models/schema.yml", "name": "not_null_updated_postcode_stg_original_postcode", "resource_type": "test", "alias": "not_null_updated_postcode_stg_original_postcode", "checksum": {"name": "none", "checksum": ""}, "config": {"enabled": true, "materialized": "view", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "alias": null, "schema": null, "database": null, "tags": [], "full_refresh": null, "severity": "ERROR"}, "tags": ["schema"], "refs": [["updated_postcode_stg"]], "sources": [], "depends_on": {"macros": ["macro.dbt.test_not_null"], "nodes": ["model.checkout_test_franciscocasanueva.updated_postcode_stg"]}, "description": "", "columns": {}, "meta": {}, "docs": {"show": true}, "patch_path": null, "build_path": "target/compiled/checkout_test_franciscocasanueva/models/schema.yml/schema_test/not_null_updated_postcode_stg_original_postcode.sql", "deferred": false, "compiled_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom `dbt-test-290911`.`dbt_francisco`.`updated_postcode_stg`\nwhere original_postcode is null\n\n\n", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom `dbt-test-290911`.`dbt_francisco`.`updated_postcode_stg`\nwhere original_postcode is null\n\n\n", "column_name": "original_postcode"}, "error": null, "status": null, "execution_time": 0.011934041976928711, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2020-10-02T10:35:32.223200Z", "completed_at": "2020-10-02T10:35:32.234099Z"}, {"name": "execute", "started_at": "2020-10-02T10:35:32.234437Z", "completed_at": "2020-10-02T10:35:32.234459Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "{{ config(severity='ERROR') }}{{ test_not_null(**_dbt_schema_test_kwargs) }}", "test_metadata": {"namespace": null, "name": "not_null", "kwargs": {"column_name": "pageview_datetime", "model": "{{ ref('updated_postcode_stg') }}"}}, "compiled": true, "database": "dbt-test-290911", "schema": "dbt_francisco", "fqn": ["checkout_test_franciscocasanueva", "schema_test", "not_null_updated_postcode_stg_pageview_datetime"], "unique_id": "test.checkout_test_franciscocasanueva.not_null_updated_postcode_stg_pageview_datetime", "package_name": "checkout_test_franciscocasanueva", "root_path": "/home/francis/Documents/Repos/checkout_test_franciscocasanueva", "path": "schema_test/not_null_updated_postcode_stg_pageview_datetime.sql", "original_file_path": "models/schema.yml", "name": "not_null_updated_postcode_stg_pageview_datetime", "resource_type": "test", "alias": "not_null_updated_postcode_stg_pageview_datetime", "checksum": {"name": "none", "checksum": ""}, "config": {"enabled": true, "materialized": "view", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "alias": null, "schema": null, "database": null, "tags": [], "full_refresh": null, "severity": "ERROR"}, "tags": ["schema"], "refs": [["updated_postcode_stg"]], "sources": [], "depends_on": {"macros": ["macro.dbt.test_not_null"], "nodes": ["model.checkout_test_franciscocasanueva.updated_postcode_stg"]}, "description": "", "columns": {}, "meta": {}, "docs": {"show": true}, "patch_path": null, "build_path": "target/compiled/checkout_test_franciscocasanueva/models/schema.yml/schema_test/not_null_updated_postcode_stg_pageview_datetime.sql", "deferred": false, "compiled_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom `dbt-test-290911`.`dbt_francisco`.`updated_postcode_stg`\nwhere pageview_datetime is null\n\n\n", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom `dbt-test-290911`.`dbt_francisco`.`updated_postcode_stg`\nwhere pageview_datetime is null\n\n\n", "column_name": "pageview_datetime"}, "error": null, "status": null, "execution_time": 0.011982917785644531, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2020-10-02T10:35:32.235570Z", "completed_at": "2020-10-02T10:35:32.246559Z"}, {"name": "execute", "started_at": "2020-10-02T10:35:32.246846Z", "completed_at": "2020-10-02T10:35:32.246856Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "{{ config(severity='ERROR') }}{{ test_not_null(**_dbt_schema_test_kwargs) }}", "test_metadata": {"namespace": null, "name": "not_null", "kwargs": {"column_name": "postcode_updated_date", "model": "{{ ref('updated_postcode_stg') }}"}}, "compiled": true, "database": "dbt-test-290911", "schema": "dbt_francisco", "fqn": ["checkout_test_franciscocasanueva", "schema_test", "not_null_updated_postcode_stg_postcode_updated_date"], "unique_id": "test.checkout_test_franciscocasanueva.not_null_updated_postcode_stg_postcode_updated_date", "package_name": "checkout_test_franciscocasanueva", "root_path": "/home/francis/Documents/Repos/checkout_test_franciscocasanueva", "path": "schema_test/not_null_updated_postcode_stg_postcode_updated_date.sql", "original_file_path": "models/schema.yml", "name": "not_null_updated_postcode_stg_postcode_updated_date", "resource_type": "test", "alias": "not_null_updated_postcode_stg_postcode_updated_date", "checksum": {"name": "none", "checksum": ""}, "config": {"enabled": true, "materialized": "view", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "alias": null, "schema": null, "database": null, "tags": [], "full_refresh": null, "severity": "ERROR"}, "tags": ["schema"], "refs": [["updated_postcode_stg"]], "sources": [], "depends_on": {"macros": ["macro.dbt.test_not_null"], "nodes": ["model.checkout_test_franciscocasanueva.updated_postcode_stg"]}, "description": "", "columns": {}, "meta": {}, "docs": {"show": true}, "patch_path": null, "build_path": "target/compiled/checkout_test_franciscocasanueva/models/schema.yml/schema_test/not_null_updated_postcode_stg_postcode_updated_date.sql", "deferred": false, "compiled_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom `dbt-test-290911`.`dbt_francisco`.`updated_postcode_stg`\nwhere postcode_updated_date is null\n\n\n", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom `dbt-test-290911`.`dbt_francisco`.`updated_postcode_stg`\nwhere postcode_updated_date is null\n\n\n", "column_name": "postcode_updated_date"}, "error": null, "status": null, "execution_time": 0.012053251266479492, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2020-10-02T10:35:32.247910Z", "completed_at": "2020-10-02T10:35:32.258912Z"}, {"name": "execute", "started_at": "2020-10-02T10:35:32.259203Z", "completed_at": "2020-10-02T10:35:32.259212Z"}], "fail": null, "warn": null, "skip": false}, {"node": {"raw_sql": "{{ config(severity='ERROR') }}{{ test_not_null(**_dbt_schema_test_kwargs) }}", "test_metadata": {"namespace": null, "name": "not_null", "kwargs": {"column_name": "user_id", "model": "{{ ref('updated_postcode_stg') }}"}}, "compiled": true, "database": "dbt-test-290911", "schema": "dbt_francisco", "fqn": ["checkout_test_franciscocasanueva", "schema_test", "not_null_updated_postcode_stg_user_id"], "unique_id": "test.checkout_test_franciscocasanueva.not_null_updated_postcode_stg_user_id", "package_name": "checkout_test_franciscocasanueva", "root_path": "/home/francis/Documents/Repos/checkout_test_franciscocasanueva", "path": "schema_test/not_null_updated_postcode_stg_user_id.sql", "original_file_path": "models/schema.yml", "name": "not_null_updated_postcode_stg_user_id", "resource_type": "test", "alias": "not_null_updated_postcode_stg_user_id", "checksum": {"name": "none", "checksum": ""}, "config": {"enabled": true, "materialized": "view", "persist_docs": {}, "post-hook": [], "pre-hook": [], "vars": {}, "quoting": {}, "column_types": {}, "alias": null, "schema": null, "database": null, "tags": [], "full_refresh": null, "severity": "ERROR"}, "tags": ["schema"], "refs": [["updated_postcode_stg"]], "sources": [], "depends_on": {"macros": ["macro.dbt.test_not_null"], "nodes": ["model.checkout_test_franciscocasanueva.updated_postcode_stg"]}, "description": "", "columns": {}, "meta": {}, "docs": {"show": true}, "patch_path": null, "build_path": "target/compiled/checkout_test_franciscocasanueva/models/schema.yml/schema_test/not_null_updated_postcode_stg_user_id.sql", "deferred": false, "compiled_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom `dbt-test-290911`.`dbt_francisco`.`updated_postcode_stg`\nwhere user_id is null\n\n\n", "extra_ctes_injected": true, "extra_ctes": [], "injected_sql": "\n    \n    \n\n\n\nselect count(*) as validation_errors\nfrom `dbt-test-290911`.`dbt_francisco`.`updated_postcode_stg`\nwhere user_id is null\n\n\n", "column_name": "user_id"}, "error": null, "status": null, "execution_time": 0.011788129806518555, "thread_id": "Thread-1", "timing": [{"name": "compile", "started_at": "2020-10-02T10:35:32.260342Z", "completed_at": "2020-10-02T10:35:32.271138Z"}, {"name": "execute", "started_at": "2020-10-02T10:35:32.271447Z", "completed_at": "2020-10-02T10:35:32.271456Z"}], "fail": null, "warn": null, "skip": false}], "generated_at": "2020-10-02T10:35:32.299150Z", "elapsed_time": 0.7380545139312744}